<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>VSCode Webview Elements demo page</title>
  <link rel="stylesheet" href="../dev-assets/default-webview-styles.css" />
  <link rel="stylesheet" href="../node_modules/vscode-codicons/dist/codicon.css" id="vscode-codicon-stylesheet">
  <script type="module" src="../dev-assets/component-preview.js"></script>
  <script type="module" src="../dist/vscode-icon.js"></script>
  <script type="module" src="../dist/vscode-collapsible.js"></script>
</head>

<body class="vscode-light">
  <div class="story">
    <h2 class="story-title">Basic example</h2>
    <div class="story-content">
      <component-preview>
        <vscode-collapsible title="Race condition in compound assignment" subtitle="JS-0040" open count="10">
          <div slot="actions">
            <vscode-icon name="account" action-icon title="Account" tabindex="0"></vscode-icon>
            <vscode-icon name="add" action-icon title="Add" tabindex="0"></vscode-icon>
            <vscode-icon name="git-compare" action-icon title="Git compare" tabindex="0"></vscode-icon>
          </div>
          <div slot="body">
            <p>test(`message passing`, async() => { ... })</p>
          </div>
        </vscode-collapsible>
        <vscode-collapsible title="Found potentially unsafe deserialization" subtitle="JS-S1000">
          <div slot="actions">
            <vscode-icon name="account" action-icon title="Account" tabindex="0"></vscode-icon>
            <vscode-icon name="add" action-icon title="Add" tabindex="0"></vscode-icon>
            <vscode-icon name="git-compare" action-icon title="Git compare" tabindex="0"></vscode-icon>
          </div>
          <div slot="body">
            <p>lorem ipsum dolor sit</p>
          </div>
        </vscode-collapsible>
      </component-preview>
      <script type="module">
        const icons = document.querySelectorAll('vscode-icon[action-icon]');

        icons.forEach((i) => {
          i.addEventListener('click', (event) => {
            event.stopPropagation();

            console.log(event);
          });

          i.addEventListener('keydown', (event) => {
            event.stopPropagation();

            if (event.key === 'Enter') {
              console.log(event);
            }
          });
        });
      </script>
    </div>
  </div>
</body>

</html>
